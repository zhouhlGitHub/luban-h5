(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ba45d"],{3703:function(t,e,r){"use strict";r.r(e);var a,o,i=r("cebc"),n=r("2f62"),c=r("d055"),s=r.n(c),l=r("c927"),d=r("d3b5"),p={props:{work:{type:Object,default:function(){}},handleClickEdit:{type:Function,default:function(){}},handleClickPreview:{type:Function,default:function(){}}},data:function(){return{qrcodeUrl:""}},methods:{timeFmt:function(t){var e=new Date(t),r="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate());return r},genQRCodeUrl:function(t){var e=this,r="".concat(l["a"],"/works/preview/").concat(t.id);s.a.toDataURL(r,function(t,r){t&&console.log(t),e.qrcodeUrl=r})}},render:function(t){var e=this;return t("a-card",{attrs:{hoverable:!0}},[t("div",{slot:"cover",class:"flex-center",style:"height: 200px;font-size: 24px;border: 1px dashed #eee;color: #aaa;background: #f7f5f557;"},[this.qrcodeUrl?t("img",{attrs:{src:this.qrcodeUrl}}):t("span",["Luban H5"])]),t("template",{class:"ant-card-actions",slot:"actions"},[t("a-tooltip",{attrs:{effect:"dark",placement:"bottom",title:"编辑"}},[t("router-link",{attrs:{to:{name:"editor",params:{workId:this.work.id}},target:"_blank"}},[t("a-icon",{attrs:{type:"edit",title:"编辑"}})])]),t("a-tooltip",{attrs:{effect:"dark",placement:"bottom",title:"预览"}},[t("a-icon",{attrs:{type:"eye",title:"预览"},on:{click:this.handleClickPreview}})]),this.qrcodeUrl?t("a-icon",{attrs:{type:"close-circle"},on:{click:function(){e.qrcodeUrl=""}}}):t("a-icon",{attrs:{type:"qrcode"},on:{click:function(){return e.genQRCodeUrl(e.work)}}})]),t("a-card-meta",[t("div",{slot:"title",class:"ant-card-meta-title",style:"font-size: 14px;"},[this.work.title,"(",this.work.id,")"]),t("div",{slot:"description",style:"font-size: 12px;"},[t("div",["描述：",this.work.description]),t("div",["时间：",this.timeFmt(this.work.created_at)])])])])}},u={functional:!0,render:function(t,e){var r=e.props;return t("a-card",{attrs:{hoverable:!0}},[t("div",{slot:"cover",class:"flex-center",style:"height: 305px;background: #f7f5f557;",on:{click:r.handleCreate}},[t("a-icon",{attrs:{type:"plus"}})]),t("template",{class:"ant-card-actions",slot:"actions"},[t("span",{on:{click:r.handleCreate}},["创建新作品"])])])}},f={components:{ListItemCard:p,AddNewCard:u},data:function(){return{activeWork:null,previewVisible:!1}},computed:Object(i["a"])({},Object(n["c"])("editor",["works"])),methods:Object(i["a"])({},Object(n["b"])("editor",["fetchWorks"]),{deleteWork:function(t){},createWork:function(){this.$router.push({name:"editor"})}}),render:function(t){var e=this;return t("div",{class:"works-wrapper"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:6},style:"margin-bottom: 10px;"},[t(u,{attrs:{handleCreate:this.createWork}})]),this.works.map(function(r){return t("a-col",{attrs:{span:6},key:r.id,style:"margin-bottom: 20px;"},[t(p,{attrs:{work:r,handleClickPreview:function(t){e.previewVisible=!0,e.activeWork=r}}})])})]),this.previewVisible&&t(d["a"],{attrs:{work:this.activeWork,visible:this.previewVisible,handleClose:function(){e.previewVisible=!1}}})])},created:function(){this.fetchWorks()}},h=f,k=r("2877"),w=Object(k["a"])(h,a,o,!1,null,null,null);e["default"]=w.exports}}]);