(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a842ef92"],{"11e9":function(e,t,n){var a=n("52a7"),i=n("4630"),o=n("6821"),r=n("6a99"),l=n("69a8"),u=n("c69a"),s=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?s:function(e,t){if(e=o(e),t=r(t,!0),u)try{return s(e,t)}catch(n){}if(l(e,t))return i(!a.f.call(e,t),e[t])}},"49d7":function(e,t,n){"use strict";n.r(t);n("7f7f");var a,i,o=n("cebc"),r=n("2f62"),l=n("a168"),u=n("52be"),s=(n("2654"),n("75fc")),p=(n("ac6a"),n("28a5"),{t:"n",b:"s",l:"w",r:"e"}),c=["lt","rt","lb","rb","l","r","t","b"],d={props:["defaultPosition","active","handleMousedownProp","handleElementMoveProp","handlePointMoveProp","handleElementMouseUpProp","handlePointMouseUpProp"],computed:{position:function(){return Object(o["a"])({},this.defaultPosition)}},methods:{getPointStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.position,a=n.top,i=n.left,o=n.height,r=n.width,l=/t/.test(e),u=/b/.test(e),s=/l/.test(e),c=/r/.test(e),d=0,f=0;2===e.length?(d=s?0:r,f=l?0:o):((l||u)&&(d=r/2,f=l?0:o),(s||c)&&(d=s?0:r,f=o/2));var m={marginLeft:s||c?"-3px":0,marginTop:l||u?"-3px":0,left:"".concat(d+(t?0:i),"px"),top:"".concat(f+(t?0:a),"px"),cursor:e.split("").reverse().map(function(e){return p[e]}).join("")+"-resize"};return m},handleWrapperClick:function(e){e.stopPropagation(),e.preventDefault()},mousedownForMark:function(e,t){var n=this;t.stopPropagation(),t.preventDefault();var a=Object(o["a"])({},this.position),i=a.height,r=a.width,l=a.top,u=a.left,s=t.clientX,p=t.clientY,c=function(t){var o=t.clientX,c=t.clientY,d=c-p,f=o-s,m=/t/.test(e),b=/b/.test(e),h=/l/.test(e),g=/r/.test(e),v=+i+(m?-d:b?d:0),y=+r+(h?-f:g?f:0);a.height=v>0?v:0,a.width=y>0?y:0,a.left=+u+(h?f:0),a.top=+l+(m?d:0),n.handlePointMoveProp(a)},d=function e(){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)},mousedownForElement:function(e){var t=this,n=Object(o["a"])({},this.position),a=e.clientY,i=e.clientX,r=n.top,l=n.left,u=function(e){e.stopPropagation(),e.preventDefault();var o=e.clientX,u=e.clientY;n.top=u-a+r,n.left=o-i+l,t.handleElementMoveProp(n)},s=function e(t){document.removeEventListener("mousemove",u,!0),document.removeEventListener("mouseup",e,!0)};return document.addEventListener("mousemove",u,!0),document.addEventListener("mouseup",s,!0),!0},handleMousedown:function(e){this.handleMousedownProp&&(this.handleMousedownProp(),this.mousedownForElement(e,this.element))}},render:function(e){var t=this;return e("div",{on:{click:this.handleWrapperClick,mousedown:this.handleMousedown},style:{outline:this.active?"1px dashed #bcbcbc":""}},[this.active&&c.map(function(n){var a=t.getPointStyle(n);return e("div",{key:n,attrs:{"data-point":n},style:a,class:"shape__scale-point",on:{mousedown:t.mousedownForMark.bind(t,n)}})}),this.$slots.default])}},f=[{label:"复制",value:"copy"},{label:"删除",value:"delete"},{label:"置顶",value:"move2Top"},{label:"置底",value:"move2Bottom"},{label:"上移",value:"addZindex"},{label:"下移",value:"minusZindex"}],m={props:["elements","handleClickElementProp","handleClickCanvasProp"],data:function(){return{vLines:[],hLines:[],contextmenuPos:[]}},computed:Object(o["a"])({},Object(r["c"])("editor",["editingElement"])),methods:Object(o["a"])({},Object(r["b"])("editor",["setEditingElement","setElementPosition","setElementShape","recordElementRect","elementManager"]),{drawVLine:function(e){this.setElementPosition({left:e}),this.vLines=[{left:e}]},drawHLine:function(e){this.setElementPosition({top:e}),this.hLines=[{top:e}]},calcX:function(e){var t=this,n=this.editingElement.uuid,a=[];this.elements.filter(function(e){return e.uuid!==n}).forEach(function(e){var t=e.commonStyle.width,n=e.commonStyle.left;a=[].concat(Object(s["a"])(a),[n,n+t/2,n+t])}),a.some(function(n){if(Math.abs(e-n)<=5)return t.drawVLine(n),!0;t.vLines=[]})},calcY:function(e){var t=this,n=this.editingElement.uuid,a=[];this.elements.filter(function(e){return e.uuid!==n}).forEach(function(e){var t=e.commonStyle.height,n=e.commonStyle.top;a=[].concat(Object(s["a"])(a),[n,n+t/2,n+t])}),a.some(function(n){if(Math.abs(e-n)<=5)return t.drawHLine(n),!0;t.hLines=[]})},handleElementMove:function(e){this.setElementPosition(e),this.calcX(e.left),this.calcY(e.top)},handlePointMove:function(e){var t=e.top,n=e.left;this.calcX(n),this.calcY(t)},bindContextMenu:function(e){if(e.preventDefault(),e.target.classList.contains("element-on-edit-canvas")||e.target.parentElement.classList.contains("element-on-edit-canvas")){var t=this.$el.getBoundingClientRect(),n=t.x,a=t.y;this.contextmenuPos=[e.clientX-n,e.clientY-a]}else this.hideContextMenu()},hideContextMenu:function(){this.contextmenuPos=[]},handleClickCanvas:function(e){e.target.classList.contains("element-on-edit-canvas")||this.setEditingElement()},renderCanvas:function(e,t){var n=this;return e("div",{style:{height:"100%",position:"relative"},class:"canvas-editor-wrapper",on:{click:function(e){n.hideContextMenu(),n.handleClickCanvas(e)},contextmenu:function(e){n.bindContextMenu(e)}}},[t.map(function(t,a){var i={style:{width:"100%",height:"100%"},class:"element-on-edit-canvas",props:t.getProps(),on:{input:function(e){var n=e.value,a=e.pluginName;"lbp-text"===a&&(t.pluginProps.text=n)}}};return e(d,{style:t.getStyle({position:"absolute"}),attrs:{defaultPosition:t.commonStyle,element:t,active:n.editingElement===t,handleMousedownProp:function(){n.setEditingElement(t)},handlePointMoveProp:function(e){n.setElementPosition(e)},handleElementMoveProp:n.handleElementMove,handleElementMouseUpProp:function(){n.recordElementRect()},handlePointMouseUpProp:function(){n.recordElementRect()}}},[e(t.name,i)])}),this.vLines.map(function(t){return e("div",{class:"v-line",style:{left:"".concat(t.left,"px")}})}),this.hLines.map(function(t){return e("div",{class:"h-line",style:{top:"".concat(t.top,"px")}})}),this.contextmenuPos.length?e("a-menu",{on:{select:function(e){e.item;var t=e.key;e.selectedKeys;n.elementManager({type:t})}},style:{left:this.contextmenuPos[0]+"px",top:this.contextmenuPos[1]+"px",userSelect:"none",position:"absolute",zIndex:999}},[f.map(function(t){return e("a-menu-item",{key:t.value,attrs:{"data-command":t.value}},[t.label])})]):null])}}),render:function(e){return this.renderCanvas(e,this.elements)}},b={props:["elements"],methods:{renderPreview:function(e,t){return e("div",{style:{height:"100%",position:"relative"}},[t.map(function(t,n){return e(t.name,t.getPreviewData())})])}},render:function(e){return this.renderPreview(e,this.elements)}},h=(n("456d"),{computed:Object(o["a"])({},Object(r["c"])("editor",["editingElement","editingElementEditorConfig"])),methods:Object(o["a"])({},Object(r["b"])("editor",["setEditingElement"]),{mixinEnhancedPropsEditor:function(e){var t=this.editingElementEditorConfig.components;for(var n in t){if(this.$options.components[n])return;this.$options.components[n]=t[n]}},renderPropsEditorPanel:function(e,t){var n=this.editingElementEditorConfig.propsConfig;return e("a-form",{ref:"form",attrs:{size:"mini",id:"props-edit-form","label-width":"100px","label-position":"left"}},[Object.keys(n).map(function(a){var i=n[a],r={style:{width:"100%"},props:Object(o["a"])({},i.prop,{value:t.pluginProps[a]||i.defaultPropValue}),on:{change:function(e){t.pluginProps[a]=e.target?e.target.value:e}}};return e("a-form-item",{attrs:{label:i.label,labelCol:{span:8},wrapperCol:{span:14,offset:2}}},[e(i.type,r)])})])}}),render:function(e){var t=this.editingElement;return t?(this.mixinEnhancedPropsEditor(t),this.renderPropsEditorPanel(e,t)):e("span",["请先选择一个元素"])}}),g={data:function(){return{editorContent:"return {\n      editorMethods: {              // 此项配置自定义方法的在组件配置面板如何展示\n        projectJump1: {             // 方法名，对应于 methods 内的某方法\n          label: '外部跳转1',        // 自定义方法显示名\n          params: [                 // 参数列表，对象数组\n            {\n              label: '跳转地址',     // 参数1的名称\n              desc: '项目相对地址',   // 参数1的描述\n              type: 'string',       // 参数1的类型，支持string|number|boolean|array|object\n              default: ''           // 参数1默认值\n            },\n            {\n              label: '参数',\n              desc: 'query形式参数',\n              type: 'object',\n              default: {}\n            }\n          ]\n        }\n      },\n      methods:{\n        projectJump1:function(url, query){\n          console.log(url, query)\n          let win = window.open(url, '_blank')\n          win.focus()\n        }\n      }\n    }"}},computed:Object(o["a"])({},Object(r["c"])("editor",["editingElement"])),methods:Object(o["a"])({},Object(r["b"])("editor",["setEditingElement"]),{mixinScript:function(){}}),render:function(e){var t=this,n=this.editingElement;return n?e("div",[e("a-button",{on:{click:this.mixinScript},attrs:{disabled:!0}},["使用脚本"]),e("div",{style:{margin:"20px"}}),e("a-textarea",{attrs:{rows:12,placeholder:"Basic usage",value:this.editorContent},on:{change:function(e){t.editorContent=e.target.value}}})]):e("span",["请先选择一个元素"])}},v={data:function(){return{}},computed:Object(o["a"])({},Object(r["c"])("editor",["editingElement"])),methods:Object(o["a"])({},Object(r["b"])("editor",["setEditingElement"])),created:function(){},render:function(e){var t=this.editingElement;return t?e("div",["TODO"]):e("span",["请先选择一个元素"])}},y={functional:!0,props:{faIcon:{required:!0,type:String},title:{required:!0,type:String},clickFn:{required:!1,type:Function}},render:function(e,t){var n=t.props,a=(t.listeners,t.slots,n.clickFn||function(){});return e("a-button",{class:"shortcut-button",on:{click:a}},[e("i",{class:["shortcut-icon","fa","fa-".concat(n.faIcon)],attrs:{"aria-hidden":"true"}}),e("span",[n.title])])}},x={props:{pluginsList:{required:!1,type:Array,default:function(){return[]}},handleClickShortcut:{type:Function}},methods:{onClickShortcut:function(e){this.handleClickShortcut&&this.handleClickShortcut(e)}},render:function(e){var t=this;return e("a-row",{attrs:{gutter:20}},[this.pluginsList.map(function(n){return e("a-col",{attrs:{span:12},style:{marginTop:"10px"}},[e(y,{attrs:{clickFn:t.onClickShortcut.bind(t,n),title:n.title,faIcon:n.icon}})])})])}},k=n("d3b5"),P=n("d416"),E=n("c928"),S=[{label:"组件列表",value:"pluginList",antIcon:"bars"},{label:"页面管理",value:"pageManagement",antIcon:"snippets"},{label:"免费模板",value:"freeTemplate",antIcon:"appstore"}],w=[{tooltip:"撤消",text:"撤消",icon:"mail-reply",action:function(){return l["a"].undo()}},{tooltip:"恢复",text:"恢复",icon:"mail-forward",action:function(){return l["a"].redo()}},{tooltip:"刷新预览",text:"刷新预览",icon:"eye",action:function(){this.previewVisible=!0}},{tooltip:"复制当前页",text:"复制当前页",icon:"copy",action:function(){this.pageManager({type:"copy"})}},{tooltip:"导入PSD",text:"Ps",icon:"",action:"",disabled:!0},{tooltip:"放大画布",text:"放大画布",icon:"plus",action:function(){this.scaleRate+=.25}},{tooltip:"缩小画布",text:"缩小画布",icon:"minus",action:function(){this.scaleRate-=.25}}],C={name:"Editor",components:{LogoOfHeader:P["a"],ExternalLinksOfHeader:E["a"]},data:function(){return{activeMenuKey:"pluginList",isPreviewMode:!1,activeTabKey:"属性",previewVisible:!1,scaleRate:1}},computed:Object(o["a"])({},Object(r["c"])("editor",{editingElement:function(e){return e.editingElement},elements:function(e){return e.editingPage.elements},pages:function(e){return e.work.pages},work:function(e){return e.work}}),Object(r["c"])("loading",{saveWork_loading:function(e){return e.saveWork_loading}})),methods:Object(o["a"])({},Object(r["b"])("editor",["elementManager","pageManager","saveWork","createWork","fetchWork"]),{clone:function(e){var t=e.name,n=this.elements.length+1,a=Object(u["a"])(t);this.elementManager({type:"add",value:{name:t,zindex:n,editorConfig:a}})},_renderMenuContent:function(){var e=this,t=this.$createElement;switch(this.activeMenuKey){case S[0].value:return t(x,{attrs:{pluginsList:this.pluginsList,handleClickShortcut:this.clone}});case S[1].value:return this.pages.map(function(n,a){return t("span",{style:{display:"flex",justifyContent:"space-between",padding:"12px 0"}},[t("span",["第",a+1,"页"]),t("a-dropdown",{attrs:{trigger:["hover"],placement:"bottomCenter"}},[t("a",{class:"ant-dropdown-link",attrs:{href:"#"}},[t("a-icon",{attrs:{type:"down"}})]),t("a-menu",{slot:"overlay",on:{click:function(t){var n=t.key;e.pageManager({type:n})}}},[t("a-menu-item",{key:"add"},[t("a-icon",{attrs:{type:"user"}}),"新增页面"]),t("a-menu-item",{key:"copy"},[t("a-icon",{attrs:{type:"user"}}),"复制页面"]),t("a-menu-item",{key:"delete"},[t("a-icon",{attrs:{type:"user"}}),"删除页面"])])])])});default:return null}}}),render:function(e){var t=this;return e("a-layout",{attrs:{id:"luban-editor-layout"},style:{height:"100vh"}},[e("a-layout-header",{class:"header"},[e(P["a"]),e("a-menu",{attrs:{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]},style:{lineHeight:"64px",float:"right",background:"transparent"}},[e("a-menu-item",{key:"1",class:"transparent-bg"},[e("a-button",{attrs:{type:"primary",size:"small"},on:{click:function(){t.previewVisible=!0}}},["预览"])]),e("a-menu-item",{key:"2",class:"transparent-bg"},[e("a-button",{attrs:{size:"small",loading:this.saveWork_loading},on:{click:function(){return t.saveWork()}}},["保存"])]),e("a-menu-item",{key:"3",class:"transparent-bg"},[e("a-button",{attrs:{size:"small"}},["发布"])])]),e(E["a"])]),e("a-layout",[e("a-layout-sider",{attrs:{width:"160",collapsed:!0},style:"background: #fff"},[e("a-menu",{attrs:{mode:"inline",defaultSelectedKeys:["pluginList"]},style:{height:"100%",borderRight:1},on:{select:function(e){var n=e.key;t.activeMenuKey=n}}},[S.map(function(t){return e("a-menu-item",{key:t.value},[e("a-icon",{attrs:{type:t.antIcon}}),e("span",[t.label])])})])]),e("a-layout-sider",{attrs:{width:"240",theme:"light"},style:{background:"#fff",padding:"12px"}},[this._renderMenuContent()]),e("a-layout",{style:"padding: 0 24px 24px"},[e("a-layout-content",{style:{padding:"24px",margin:0,minHeight:"280px"}},[e("div",{style:"text-align: center;"},[e("a-radio-group",{attrs:{size:"small",value:this.isPreviewMode},on:{input:function(e){t.isPreviewMode=e}}},[e("a-radio-button",{attrs:{label:!1,value:!1}},["编辑模式"]),e("a-radio-button",{attrs:{label:!0,value:!0}},["预览模式"])])]),e("div",{class:"canvas-wrapper",style:{transform:"scale(".concat(this.scaleRate,")")}},[this.isPreviewMode?e(b,{attrs:{elements:this.elements}}):e(m,{attrs:{elements:this.elements}})])])]),e("a-layout-sider",{attrs:{width:"40",theme:"light"},style:{background:"#fff",border:"1px solid #eee"}},[e("a-button-group",{style:{display:"flex",flexDirection:"column"}},[w.map(function(n){return e("a-tooltip",{attrs:{effect:"dark",placement:"left",title:n.tooltip}},[e("a-button",{attrs:{block:!0,type:"link",size:"small",disabled:!!n.disabled},class:"transparent-bg",style:{height:"40px",color:"#000"},on:{click:function(){return n.action&&n.action.call(t)}}},[n.icon?e("i",{class:["shortcut-icon","fa","fa-".concat(n.icon)],attrs:{"aria-hidden":"true"}}):n.text])])}),e("div",{style:{fontSize:"12px",textAlign:"center"}},[100*this.scaleRate,"%"])])]),e("a-layout-sider",{attrs:{width:"340",theme:"light"},style:{background:"#fff",padding:"0 12px"}},[e("a-tabs",{style:"height: 100%;",attrs:{tabBarGutter:10},on:{change:function(e){t.activeTabKey=e}}},[e("a-tab-pane",{key:"属性"},[e("span",{slot:"tab"},[e("a-icon",{attrs:{type:"apple"}}),"属性"]),e(h)]),e("a-tab-pane",{attrs:{label:"动画",tab:"动画"},key:"动画"},["动画"]),e("a-tab-pane",{attrs:{label:"动作",tab:"动作"},key:"动作"},["动作"===this.activeTabKey,"动作"===this.activeTabKey&&e(v)]),e("a-tab-pane",{attrs:{label:"脚本",tab:"脚本"},key:"脚本"},[e(g)])])])]),this.previewVisible&&e(k["a"],{attrs:{work:this.work,visible:this.previewVisible,handleClose:function(){t.previewVisible=!1}}})])},created:function(){var e=this.$route.params.workId;console.log(e),e?this.fetchWork(e):this.createWork()}},M=n("a026"),V=(n("c5f6"),{render:function(){var e=arguments[0],t=this.color,n=this.textAlign,a=this.backgroundColor,i=this.fontSize,o=this.lineHeight,r=this.borderColor,l=this.borderRadius,u=this.borderWidth,s=this.text,p={color:t,textAlign:n,backgroundColor:a,fontSize:i,lineHeight:o+"em",borderColor:r,borderRadius:l+"px",borderWidth:u+"px",textDecoration:"none"};return e("button",{style:p},[s])},name:"lbp-button",props:{text:{type:String,default:"按钮"},type:{type:String,default:"text"},placeholder:{type:String,default:"请填写提示文字"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},backgroundColor:{type:String,default:"transparent"},color:{type:String,default:"black"},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:1},borderWidth:{type:Number,default:1},borderRadius:{type:Number,default:0},borderColor:{type:String,default:"#ced4da"},textAlign:{type:String,default:"center"}},editorConfig:{propsConfig:{text:{type:"a-input",label:"按钮文字",require:!0,defaultPropValue:"按钮"},fontSize:{type:"a-input-number",label:"字号(px)",require:!0,prop:{step:1,min:12,max:144},defaultPropValue:14},color:{type:"a-input",label:"文字颜色",prop:{type:"color"},require:!0,defaultPropValue:"black"},backgroundColor:{type:"a-input",label:"背景颜色",prop:{type:"color"},require:!0,defaultPropValue:"#ffffff"},borderColor:{type:"a-input",label:"边框颜色",prop:{type:"color"},require:!0,defaultPropValue:"#eeeeee"},borderWidth:{type:"a-input-number",label:"边框宽度(px)",require:!0,prop:{step:1,min:1,max:10},defaultPropValue:1},borderRadius:{type:"a-input-number",label:"圆角(px)",require:!0,prop:{step:.1,min:0,max:10},defaultPropValue:0},lineHeight:{type:"a-input-number",label:"行高",require:!0,prop:{step:.1,min:.1,max:10},defaultPropValue:1},textAlign:{type:"lbs-text-align",label:"文字对齐",require:!0,defaultPropValue:"center"}},components:{"lbs-text-align":{template:'\n          <div class="wrap">\n            <a-radio-group v-model="value_" size="small">\n              <a-tooltip effect="dark" :content="item.label" placement="top" :key="index" v-for="(item, index) in textAlignTabs">\n                <a-radio-button :label="item.value">\n                  \x3c!-- issue #8 --\x3e\n                  <i :class="[\'fa\', \'fa-align-\'+item.value]" aria-hidden="true"></i>\n                </a-radio-button>\n              </a-tooltip>\n            </a-radio-group>\n          </div>',props:{value:{type:[String,Number]}},data:function(){return{textAlignTabs:[{label:"左对齐",value:"left"},{label:"居中对齐",value:"center"},{label:"右对齐",value:"right"}]}},computed:{value_:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},"lbs-select-input-type":{props:["value"],computed:{value_:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},template:'\n          <a-select v-model="value_" placeholder="类型">\n            <a-option\n              v-for="item in options"\n              :key="item.value"\n              :label="item.label"\n              :value="item.value">\n            </a-option>\n          </a-select>\n        ',data:function(){return{options:[{label:"文字",value:"text"},{label:"密码",value:"password"},{label:"日期",value:"date"},{label:"邮箱",value:"email"},{label:"手机号",value:"tel"}]}}}}}}),q=n("71da"),O=n.n(q),_={name:"lbp-picture",render:function(){var e=arguments[0];return e("img",{attrs:{src:this.imgSrc||O.a,alt:"",srcset:"",width:"100%"}})},props:{imgSrc:{type:String,default:O.a}},data:function(){return{placeholderImg:O.a}},editorConfig:{propsConfig:{imgSrc:{type:"a-input",label:"图片url",prop:{type:"textarea"},defaultPropValue:""}},components:{}}},N={render:function(e){var t=this,n=this.color,a=this.textAlign,i=this.fontSize,o=this.lineHeight,r=this.borderColor,l={color:"".concat(n," !important"),textAlign:a,backgroundColor:"transparent",fontSize:i,lineHeight:o+"em",borderColor:r,textDecoration:"none"};return e("div",{style:l,on:{dblclick:function(){t.canEdit=!0}}},[e("div",{ref:"editableText",style:{height:"100%"},domProps:{innerHTML:t.innerText,contentEditable:t.canEdit},on:{blur:function(){t.canEdit=!1},input:function(){t.$emit("input",{value:t.$refs.editableText.innerHTML,pluginName:"lbp-text"})}}})])},name:"lbp-text",data:function(){return{canEdit:!1,innerText:this.text||"双击修改文字"}},props:{text:{type:String,default:"双击修改文字"},type:{type:String,default:"text"},placeholder:{type:String,default:"请填写提示文字"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},backgroundColor:{type:String,default:"transparent"},color:{type:String,default:"black"},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:1},borderWidth:{type:Number,default:1},borderRadius:{type:Number,default:0},borderColor:{type:String,default:"#ced4da"},borderStyle:{type:String,default:"solid"},textAlign:{type:String,default:"center"}},editorConfig:{propsConfig:{fontSize:{type:"a-input-number",label:"字号(px)",require:!0,prop:{step:1,min:12,max:144},defaultPropValue:14},color:{type:"a-input",label:"文字颜色",prop:{type:"color"},require:!0,defaultPropValue:"black"},backgroundColor:{type:"a-input",label:"背景颜色",prop:{type:"color"},require:!0,defaultPropValue:"#ffffff"},borderColor:{type:"a-input",label:"边框颜色",prop:{type:"color"},require:!0,defaultPropValue:"#333333"},borderWidth:{type:"a-input-number",label:"边框宽度(px)",require:!0,prop:{step:1,min:1,max:10},defaultPropValue:1},borderRadius:{type:"a-input-number",label:"圆角(px)",require:!0,prop:{step:.1,min:0,max:10},defaultPropValue:0},borderStyle:{type:"a-input",label:"边框形式",require:!0,defaultPropValue:"solid"},lineHeight:{type:"a-input-number",label:"行高",require:!0,prop:{step:.1,min:.1,max:10},defaultPropValue:1},textAlign:{type:"lbs-text-align",label:"文字对齐",require:!0,defaultPropValue:"center"}},components:{"lbs-text-align":{template:'\n          <div class="wrap">\n            <a-radio-group v-model="value_" size="small">\n              <a-tooltip effect="dark" :content="item.label" placement="top" :key="index" v-for="(item, index) in textAlignTabs">\n                <a-radio-button :label="item.value">\n                  \x3c!-- issue #8 --\x3e\n                  <i :class="[\'fa\', \'fa-align-\'+item.value]" aria-hidden="true"></i>\n                </a-radio-button>\n              </a-tooltip>\n            </a-radio-group>\n          </div>',props:{value:{type:[String,Number]}},data:function(){return{textAlignTabs:[{label:"左对齐",value:"left"},{label:"居中对齐",value:"center"},{label:"右对齐",value:"right"}]}},computed:{value_:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},"lbs-select-input-type":{props:["value"],computed:{value_:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},template:'\n          <a-select v-model="value_" placeholder="类型">\n            <a-option\n              v-for="item in options"\n              :key="item.value"\n              :label="item.label"\n              :value="item.value">\n            </a-option>\n          </a-select>\n        ',data:function(){return{options:[{label:"文字",value:"text"},{label:"密码",value:"password"},{label:"日期",value:"date"},{label:"邮箱",value:"email"},{label:"手机号",value:"tel"}]}}}}}},j={name:"lbp-form-input",render:function(e){var t={color:this.color,textAlign:this.textAlign,backgroundColor:this.backgroundColor,fontSize:this.fontSize+"px",lineHeight:this.lineHeight+"em",borderColor:this.borderColor,borderRadius:this.borderRadius+"px",borderWidth:this.borderWidth+"px",padding:"0 5px"};return e("input",{attrs:{disabled:this.disabled,type:this.type,name:this.name,placeholder:this.placeholder,autocomplete:"off","data-type":"lbp-form-input"},style:t})},props:{name:{type:String,default:function(){return"name"}},type:{type:String,default:"text"},placeholder:{type:String,default:"请填写提示文字"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},backgroundColor:{type:String,default:"transparent"},color:{type:String,default:"black"},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:1},borderWidth:{type:Number,default:1},borderRadius:{type:Number,default:0},borderColor:{type:String,default:"#ced4da"},textAlign:{type:String,default:"left"}},editorConfig:{propsConfig:{type:{type:"lbs-select-input-type",label:"类型",defaultPropValue:"text"},placeholder:{type:"a-input",label:"提示文字",require:!0,defaultPropValue:"请填写提示文字"},fontSize:{type:"a-input-number",label:"字号(px)",require:!0,prop:{step:1,min:12,max:144},defaultPropValue:14},color:{type:"a-input",label:"文字颜色",prop:{type:"color"},require:!0,defaultPropValue:"black"},backgroundColor:{type:"a-input",label:"背景颜色",prop:{type:"color"},require:!0,defaultPropValue:"#ffffff"},borderColor:{type:"a-input",label:"边框颜色",prop:{type:"color"},require:!0,defaultPropValue:"#eeeeee"},borderWidth:{type:"a-input-number",label:"边框宽度(px)",require:!0,prop:{step:1,min:1,max:10},defaultPropValue:1},borderRadius:{type:"a-input-number",label:"圆角(px)",require:!0,prop:{step:.1,min:0,max:10},defaultPropValue:0},lineHeight:{type:"a-input-number",label:"行高",require:!0,prop:{step:.1,min:.1,max:10},defaultPropValue:1},textAlign:{type:"lbs-text-align",label:"文字对齐",require:!0,defaultPropValue:"left"}},components:{"lbs-text-align":{render:function(e){var t=this;return e("div",{class:"wrap"},[e("a-radio-group",{attrs:{value:this.value,size:"small"},on:{change:function(e){t.$emit("change",e),t.$emit("input",e)}}},[this.textAlignTabs.map(function(t){return e("a-tooltip",{attrs:{effect:"dark",placement:"top",title:t.label},key:t.value},[e("a-radio-button",{attrs:{value:t.value}},[e("i",{class:["fa","fa-align-"+t.value],attrs:{"aria-hidden":"true"}})])])})])])},props:{value:{type:[String,Number]}},data:function(){return{textAlignTabs:[{label:"左对齐",value:"left"},{label:"居中对齐",value:"center"},{label:"右对齐",value:"right"}]}}},"lbs-select-input-type":{props:["value"],computed:{value_:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},render:function(e){var t=this;return e("a-select",{attrs:{placeholder:"类型",value:this.value},on:{change:function(e){t.$emit("input",e),t.$emit("change",e)}}},[this.options.map(function(t){return e("a-select-option",{key:t.value,attrs:{value:t.value}},[t.label])})])},data:function(){return{options:[{label:"文字",value:"text"},{label:"密码",value:"password"},{label:"日期",value:"date"},{label:"邮箱",value:"email"},{label:"手机号",value:"tel"}]}}}}}},L={render:function(){var e=arguments[0],t=this.color,n=this.textAlign,a=this.backgroundColor,i=this.fontSize,o=this.lineHeight,r=this.borderColor,l=this.borderRadius,u=this.borderWidth,s=this.text,p=this.disabled,c={color:t,textAlign:n,backgroundColor:a,fontSize:i,lineHeight:o+"em",borderColor:r,borderRadius:l+"px",borderWidth:u+"px",textDecoration:"none",disabled:p};return e("button",{style:c,on:{click:this.handleClick}},[s])},name:"lbp-form-button",props:{text:{type:String,default:"按钮"},type:{type:String,default:"text"},placeholder:{type:String,default:"请填写提示文字"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},backgroundColor:{type:String,default:"transparent"},color:{type:String,default:"black"},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:1},borderWidth:{type:Number,default:1},borderRadius:{type:Number,default:0},borderColor:{type:String,default:"#ced4da"},textAlign:{type:String,default:"center"}},methods:{handleClick:function(){if(!this.disabled){var e=document.querySelectorAll("[data-type^='lbp-form-input']");if(e.length){var t=this,n=new FormData;e.forEach(function(e){return n.append(e.dataset.uuid,e.value)});var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){var e=200===a.status?"提交成功":"提交失败";t.$message.info(e)}};var i=window.__work.id;a.open("post","/works/form/submit/".concat(i),!0),a.send(n)}}}},editorConfig:{propsConfig:{text:{type:"a-input",label:"按钮文字",require:!0,defaultPropValue:"按钮"},fontSize:{type:"a-input-number",label:"字号(px)",require:!0,prop:{step:1,min:12,max:144},defaultPropValue:14},color:{type:"a-input",label:"文字颜色",prop:{type:"color"},require:!0,defaultPropValue:"black"},backgroundColor:{type:"a-input",label:"背景颜色",prop:{type:"color"},require:!0,defaultPropValue:"#ffffff"},borderColor:{type:"a-input",label:"边框颜色",prop:{type:"color"},require:!0,defaultPropValue:"#eeeeee"},borderWidth:{type:"a-input-number",label:"边框宽度(px)",require:!0,prop:{step:1,min:1,max:10},defaultPropValue:1},borderRadius:{type:"a-input-number",label:"圆角(px)",require:!0,prop:{step:.1,min:0,max:10},defaultPropValue:0},lineHeight:{type:"a-input-number",label:"行高",require:!0,prop:{step:.1,min:.1,max:10},defaultPropValue:1},textAlign:{type:"lbs-text-align",label:"文字对齐",require:!0,defaultPropValue:"center"}},components:{"lbs-text-align":{template:'\n          <div class="wrap">\n            <a-radio-group v-model="value_" size="small">\n              <a-tooltip effect="dark" :content="item.label" placement="top" :key="index" v-for="(item, index) in textAlignTabs">\n                <a-radio-button :label="item.value">\n                  \x3c!-- issue #8 --\x3e\n                  <i :class="[\'fa\', \'fa-align-\'+item.value]" aria-hidden="true"></i>\n                </a-radio-button>\n              </a-tooltip>\n            </a-radio-group>\n          </div>',props:{value:{type:[String,Number]}},data:function(){return{textAlignTabs:[{label:"左对齐",value:"left"},{label:"居中对齐",value:"center"},{label:"右对齐",value:"right"}]}},computed:{value_:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},"lbs-select-input-type":{props:["value"],computed:{value_:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},template:'\n          <a-select v-model="value_" placeholder="类型">\n            <a-option\n              v-for="item in options"\n              :key="item.value"\n              :label="item.label"\n              :value="item.value">\n            </a-option>\n          </a-select>\n        ',data:function(){return{options:[{label:"文字",value:"text"},{label:"密码",value:"password"},{label:"日期",value:"date"},{label:"邮箱",value:"email"},{label:"手机号",value:"tel"}]}}}}}},A=[{title:"图片",icon:"photo",component:_,visible:!0,name:_.name},{title:"文字",icon:"font",component:N,visible:!0,name:N.name},{title:"按钮",icon:"hand-pointer-o",component:V,visible:!0,name:V.name},{title:"表单输入",icon:"pencil-square-o",component:j,visible:!0,name:j.name},{title:"表单提交",icon:"hand-pointer-o",component:L,visible:!0,name:L.name}],z={data:function(){return{pluginsList:A}},methods:{mixinPlugins2Editor:function(){A.forEach(function(e){M["a"].component(e.name,e.component)})}},created:function(){this.mixinPlugins2Editor()}},T={extends:C,mixins:[z]},I=T,R=(n("b395"),n("2877")),H=Object(R["a"])(I,a,i,!1,null,null,null);t["default"]=H.exports},"5dbc":function(e,t,n){var a=n("d3f4"),i=n("8b97").set;e.exports=function(e,t,n){var o,r=t.constructor;return r!==n&&"function"==typeof r&&(o=r.prototype)!==n.prototype&&a(o)&&i&&i(e,o),e}},"70b1":function(e,t,n){},"71da":function(e,t,n){e.exports=n.p+"img/lbp-picture-placeholder.f83f3988.jpg"},"8b97":function(e,t,n){var a=n("d3f4"),i=n("cb7c"),o=function(e,t){if(i(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:a(e,n),e}}({},!1):void 0),check:o}},9093:function(e,t,n){var a=n("ce10"),i=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,i)}},aa77:function(e,t,n){var a=n("5ca1"),i=n("be13"),o=n("79e5"),r=n("fdef"),l="["+r+"]",u="​",s=RegExp("^"+l+l+"*"),p=RegExp(l+l+"*$"),c=function(e,t,n){var i={},l=o(function(){return!!r[e]()||u[e]()!=u}),s=i[e]=l?t(d):r[e];n&&(i[n]=s),a(a.P+a.F*l,"String",i)},d=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(p,"")),e};e.exports=c},b395:function(e,t,n){"use strict";var a=n("70b1"),i=n.n(a);i.a},c5f6:function(e,t,n){"use strict";var a=n("7726"),i=n("69a8"),o=n("2d95"),r=n("5dbc"),l=n("6a99"),u=n("79e5"),s=n("9093").f,p=n("11e9").f,c=n("86cc").f,d=n("aa77").trim,f="Number",m=a[f],b=m,h=m.prototype,g=o(n("2aeb")(h))==f,v="trim"in String.prototype,y=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():d(t,3);var n,a,i,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+t}for(var r,u=t.slice(2),s=0,p=u.length;s<p;s++)if(r=u.charCodeAt(s),r<48||r>i)return NaN;return parseInt(u,a)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof m&&(g?u(function(){h.valueOf.call(n)}):o(n)!=f)?r(new b(y(t)),n,m):y(t)};for(var x,k=n("9e1e")?s(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;k.length>P;P++)i(b,x=k[P])&&!i(m,x)&&c(m,x,p(b,x));m.prototype=h,h.constructor=m,n("2aba")(a,f,m)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);